(()=>{"use strict";var e={2852:(e,t,n)=>{var o=n(603),r=n(6665),a=n(7225),s=n(6520),l=n(5393),i=n(6384);const c=(0,n(9488).createClient)("https://sbxowcfafuwkzxeaspvq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNieG93Y2ZhZnV3a3p4ZWFzcHZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5OTU4NTEsImV4cCI6MjA3MzU3MTg1MX0.tMR6wSNdaGM5Epvu5h2HiAY00kodUwbnwEGaqjPKQsA",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});var f=n(397);const u=(0,r.createContext)(void 0);function d({children:e}){const[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c.auth.getSession().then(({data:{session:e}})=>{l(e),n(e?.user??null),e?.user&&m(e.user.id),d(!1)});const{data:{subscription:e}}=c.auth.onAuthStateChange(async(e,t)=>{l(t),n(t?.user??null),"SIGNED_IN"===e&&t?.user?await m(t.user.id):"SIGNED_OUT"===e&&a(null),d(!1)});return()=>e.unsubscribe()},[]);const m=async e=>{try{const{data:n,error:o}=await c.from("profiles").select("*").eq("id",e).single();if(o&&"PGRST116"!==o.code)return void console.error("Error loading profile:",o);if(n)a(n);else{const n={id:e,first_name:t?.user_metadata?.first_name||null,last_name:t?.user_metadata?.last_name||null,display_name:null,avatar_url:null,phone:null,subscription_status:"free"},{data:o,error:r}=await c.from("profiles").insert(n).select().single();r?console.error("Error creating profile:",r):a(o)}}catch(n){console.error("Error in loadProfile:",n)}},g={user:t,profile:o,session:s,loading:i,signUp:async(e,t,n)=>{const{data:o,error:r}=await c.auth.signUp({email:e,password:t,options:{data:n}});return{data:o,error:r}},signIn:async(e,t)=>{const{data:n,error:o}=await c.auth.signInWithPassword({email:e,password:t});return{data:n,error:o}},signOut:async()=>{const{error:e}=await c.auth.signOut();if(e)throw e},updateProfile:async e=>{if(!t)throw new Error("No user logged in");const{error:n}=await c.from("profiles").update(e).eq("id",t.id);if(n)throw n;a(t=>t?Object.assign({},t,e):null)}};return(0,f.jsx)(u.Provider,{value:g,children:e})}var m=n(8196),g=n(3929),x=n(530);function y({size:e="large",color:t="#f37d0a",style:n}){return(0,f.jsx)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",style:n,component:g.default,children:(0,f.jsx)(x.default,{size:e,color:t})})}m.NativeWindStyleSheet.create({styles:{"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"}}});var h=n(6283);function p({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Welcome to Streakzilla!"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Login screen coming soon..."})]})}function b({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Sign Up"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Signup screen coming soon..."})]})}function S({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Streakzilla"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Home screen coming soon..."})]})}function j({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Create Streak"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Coming soon..."})]})}function C({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Join Streak"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Coming soon..."})]})}function v({navigation:e,route:t}){const{streakId:n}=t.params;return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Streak Dashboard"}),(0,f.jsxs)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:["Streak ID: ",n]}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Coming soon..."})]})}function w({navigation:e}){return(0,f.jsxs)(m.StyledComponent,{className:"flex-1 justify-center items-center bg-gray-50",component:g.default,children:[(0,f.jsx)(m.StyledComponent,{className:"text-2xl font-bold text-gray-900 mb-4",component:h.default,children:"Profile"}),(0,f.jsx)(m.StyledComponent,{className:"text-gray-600",component:h.default,children:"Coming soon..."})]})}m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}}),m.NativeWindStyleSheet.create({styles:{"mb-4":{marginBottom:16},"flex-1":{flexGrow:1,flexShrink:1,flexBasis:"0%"},"items-center":{alignItems:"center"},"justify-center":{justifyContent:"center"},"bg-gray-50":{backgroundColor:"#f9fafb"},"font-bold":{fontWeight:"700"},"text-gray-600":{color:"#4b5563"},"text-gray-900":{color:"#111827"},"text-2xl":{fontSize:24,lineHeight:32}}});const N=(0,l.default)();function k(){return(0,f.jsxs)(N.Navigator,{screenOptions:{headerShown:!1,animation:"slide_from_right"},children:[(0,f.jsx)(N.Screen,{name:"Login",component:p}),(0,f.jsx)(N.Screen,{name:"Signup",component:b})]})}function I(){return(0,f.jsxs)(N.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#ffffff"},headerTintColor:"#374151",headerTitleStyle:{fontWeight:"600"},animation:"slide_from_right"},children:[(0,f.jsx)(N.Screen,{name:"Home",component:S,options:{title:"Streakzilla"}}),(0,f.jsx)(N.Screen,{name:"CreateStreak",component:j,options:{title:"Create Streak"}}),(0,f.jsx)(N.Screen,{name:"JoinStreak",component:C,options:{title:"Join Streak"}}),(0,f.jsx)(N.Screen,{name:"StreakDashboard",component:v,options:{title:"Streak Dashboard"}}),(0,f.jsx)(N.Screen,{name:"Profile",component:w,options:{title:"Profile"}})]})}function O(){const{user:e,loading:t}=function(){const e=(0,r.useContext)(u);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}();return t?(0,f.jsx)(y,{}):(0,f.jsx)(s.default,{children:e?(0,f.jsx)(I,{}):(0,f.jsx)(k,{})})}(0,o.default)(function(){return(0,f.jsxs)(d,{children:[(0,f.jsx)(O,{}),(0,f.jsx)(a.StatusBar,{style:"auto"}),(0,f.jsx)(i.default,{})]})})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var s=1/0;for(f=0;f<e.length;f++){for(var[o,r,a]=e[f],l=!0,i=0;i<o.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every(e=>n.O[e](o[i]))?o.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(f--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[o,r,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[s,l,i]=o,c=0;if(s.some(t=>0!==e[t])){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var f=i(n)}for(t&&t(o);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(f)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[241],()=>n(2852));o=n.O(o)})();
//# sourceMappingURL=main.67d2ea3f.js.map