{"ast":null,"code":"import React from'react';import{useLogger,useGesture}from'./contexts';import{useTimeout}from'./hooks';import{noop}from'./utils/func';import{mergeIfDefined}from'./utils/obj';export const DEFAULT_DATA={text1:undefined,text2:undefined};export const DEFAULT_OPTIONS={type:'success',text1Style:null,text2Style:null,position:'top',autoHide:true,swipeable:true,visibilityTime:4000,topOffset:40,bottomOffset:40,keyboardOffset:10,avoidKeyboard:true,onShow:noop,onHide:noop,onPress:noop,props:{}};export function useToast({defaultOptions}){const{log}=useLogger();const{panning}=useGesture();const[isVisible,setIsVisible]=React.useState(false);const[data,setData]=React.useState(DEFAULT_DATA);const initialOptions=mergeIfDefined(DEFAULT_OPTIONS,defaultOptions);const[options,setOptions]=React.useState(initialOptions);const onAutoHide=React.useCallback(()=>{if(panning.current){log('Auto hiding was blocked due to panning');}else{log('Auto hiding');setIsVisible(false);options.onHide();}},[log,options,panning]);const{startTimer,clearTimer}=useTimeout(onAutoHide,options.visibilityTime);const hide=React.useCallback(()=>{log('Hiding');setIsVisible(false);clearTimer();options.onHide();},[clearTimer,log,options]);const show=React.useCallback(params=>{log(`Showing with params: ${JSON.stringify(params)}`);const{text1=DEFAULT_DATA.text1,text2=DEFAULT_DATA.text2,type=initialOptions.type,text1Style=initialOptions.text1Style,text2Style=initialOptions.text2Style,position=initialOptions.position,autoHide=initialOptions.autoHide,visibilityTime=initialOptions.visibilityTime,topOffset=initialOptions.topOffset,bottomOffset=initialOptions.bottomOffset,keyboardOffset=initialOptions.keyboardOffset,avoidKeyboard=initialOptions.avoidKeyboard,onShow=initialOptions.onShow,onHide=initialOptions.onHide,onPress=initialOptions.onPress,swipeable=initialOptions.swipeable,props=initialOptions.props}=params;setData({text1,text2});setOptions(mergeIfDefined(initialOptions,{type,text1Style,text2Style,position,autoHide,visibilityTime,topOffset,bottomOffset,keyboardOffset,avoidKeyboard,onShow,onHide,onPress,swipeable,props}));setIsVisible(true);onShow();},[initialOptions,log]);React.useEffect(()=>{const{autoHide}=options;if(isVisible){if(autoHide){startTimer();}else{clearTimer();}}},[isVisible,options,startTimer,clearTimer]);return{isVisible,data,options,show,hide};}","map":{"version":3,"names":["React","useLogger","useGesture","useTimeout","noop","mergeIfDefined","DEFAULT_DATA","text1","undefined","text2","DEFAULT_OPTIONS","type","text1Style","text2Style","position","autoHide","swipeable","visibilityTime","topOffset","bottomOffset","keyboardOffset","avoidKeyboard","onShow","onHide","onPress","props","useToast","defaultOptions","log","panning","isVisible","setIsVisible","useState","data","setData","initialOptions","options","setOptions","onAutoHide","useCallback","current","startTimer","clearTimer","hide","show","params","JSON","stringify","useEffect"],"sources":["/Users/siva/Documents/GitHub/streakzilla/streakzilla/node_modules/react-native-toast-message/lib/src/useToast.js"],"sourcesContent":["import React from 'react';\nimport { useLogger, useGesture } from './contexts';\nimport { useTimeout } from './hooks';\nimport { noop } from './utils/func';\nimport { mergeIfDefined } from './utils/obj';\nexport const DEFAULT_DATA = {\n    text1: undefined,\n    text2: undefined\n};\nexport const DEFAULT_OPTIONS = {\n    type: 'success',\n    text1Style: null,\n    text2Style: null,\n    position: 'top',\n    autoHide: true,\n    swipeable: true,\n    visibilityTime: 4000,\n    topOffset: 40,\n    bottomOffset: 40,\n    keyboardOffset: 10,\n    avoidKeyboard: true,\n    onShow: noop,\n    onHide: noop,\n    onPress: noop,\n    props: {}\n};\nexport function useToast({ defaultOptions }) {\n    const { log } = useLogger();\n    const { panning } = useGesture();\n    const [isVisible, setIsVisible] = React.useState(false);\n    const [data, setData] = React.useState(DEFAULT_DATA);\n    const initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\n    const [options, setOptions] = React.useState(initialOptions);\n    const onAutoHide = React.useCallback(() => {\n        if (panning.current) {\n            log('Auto hiding was blocked due to panning');\n        }\n        else {\n            log('Auto hiding');\n            setIsVisible(false);\n            options.onHide();\n        }\n    }, [log, options, panning]);\n    const { startTimer, clearTimer } = useTimeout(onAutoHide, options.visibilityTime);\n    const hide = React.useCallback(() => {\n        log('Hiding');\n        setIsVisible(false);\n        clearTimer();\n        options.onHide();\n    }, [clearTimer, log, options]);\n    const show = React.useCallback((params) => {\n        log(`Showing with params: ${JSON.stringify(params)}`);\n        const { text1 = DEFAULT_DATA.text1, text2 = DEFAULT_DATA.text2, type = initialOptions.type, text1Style = initialOptions.text1Style, text2Style = initialOptions.text2Style, position = initialOptions.position, autoHide = initialOptions.autoHide, visibilityTime = initialOptions.visibilityTime, topOffset = initialOptions.topOffset, bottomOffset = initialOptions.bottomOffset, keyboardOffset = initialOptions.keyboardOffset, avoidKeyboard = initialOptions.avoidKeyboard, onShow = initialOptions.onShow, onHide = initialOptions.onHide, onPress = initialOptions.onPress, swipeable = initialOptions.swipeable, props = initialOptions.props } = params;\n        setData({\n            text1,\n            text2\n        });\n        setOptions(mergeIfDefined(initialOptions, {\n            type,\n            text1Style,\n            text2Style,\n            position,\n            autoHide,\n            visibilityTime,\n            topOffset,\n            bottomOffset,\n            keyboardOffset,\n            avoidKeyboard,\n            onShow,\n            onHide,\n            onPress,\n            swipeable,\n            props\n        }));\n        // TODO: validate input\n        // TODO: use a queue when Toast is already visible\n        setIsVisible(true);\n        onShow();\n    }, [initialOptions, log]);\n    React.useEffect(() => {\n        const { autoHide } = options;\n        if (isVisible) {\n            if (autoHide) {\n                startTimer();\n            }\n            else {\n                clearTimer();\n            }\n        }\n    }, [isVisible, options, startTimer, clearTimer]);\n    return {\n        isVisible,\n        data,\n        options,\n        show,\n        hide\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}